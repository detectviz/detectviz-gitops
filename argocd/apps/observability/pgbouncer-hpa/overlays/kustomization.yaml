apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

# PgBouncer 與 HPA 均部署於 postgresql namespace
namespace: postgresql

# 先引用 base Helm Chart，再追加 HPA 等額外資源
resources:
  - ../base
  - pgbouncer-hpa.yaml

# 補充標籤
commonLabels:
  environment: production
  managed-by: gitops

# 補充 annotations
commonAnnotations:
  environment: production
  cluster: detectviz-production
  argocd.argoproj.io/sync-wave: "-1"
