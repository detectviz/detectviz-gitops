apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

resources:
  # ArgoCD Bootstrap Application - 最早安裝 ArgoCD
  - argocd-bootstrap-app.yaml

  # 自我管理 ApplicationSet - 管理 detectviz-gitops 應用
  - appset.yaml

  # 應用層 ApplicationSets - 管理 observability 和 identity 應用
  - apps-appset.yaml

  # 業務應用 ApplicationSets - 指向 detectviz-apps repo
  # 暫時註釋掉，因為 detectviz-apps 倉庫還沒有準備好
  # - observability-appset.yaml
  # - data-appset.yaml
  # - detectviz-appset.yaml

# 通用標籤
labels:
  - pairs:
      app.kubernetes.io/managed-by: kustomize

# 通用 annotations
commonAnnotations:
  argocd.argoproj.io/sync-wave: "0"
