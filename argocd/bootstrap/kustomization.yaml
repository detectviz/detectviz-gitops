apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

resources:
  # ArgoCD 專案配置 (單獨管理)
  - argocd-projects.yaml

  # Phase 1: 基礎資源 (不依賴任何 CRDs)
  # Sync Wave: -10
  - phase1-base/

  # Phase 2: 進階資源 (依賴基礎設施)
  # Sync Wave: 10
  # 注意: 只有在基礎設施 ApplicationSets 部署 cert-manager, ingress-nginx 等之後才會成功
  - phase2-advanced/

# 通用標籤
labels:
  - pairs:
      app.kubernetes.io/managed-by: kustomize
